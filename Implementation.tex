\input{chap4/application.tex}

\subsection{Android Studio}
Both the smartphone application as well as the Google Glass application were developed in Android Studio~\cite{androidStudio}. Android Studio is a development environment developed by Google. Both applications were initially being developed in Eclipse~\cite{eclipse}, however development soon shifted to Android Studio as Android Studio is now the official integrated development environment (IDE) for Android~\cite{androidIDE}. The shift was done without complications as Android Studio contains an import feature enabling developers to import projects previously not developed in Android Studio~\cite{androidIDE}.%[TODO why Android Studio]

%\subsection{ZXing}
%The application was built upon the open-source barcode image processing library, Zebra Crossing (ZXing). 
%[TODO Vilka förändringar har gjorts]
% https://github.com/zxing/zxing/

%\subsubsection{BarcodeEye}
%The Google Glass application was built upon the Google Glass port of the ZXing library, known as BarcodeEye~\cite{barcodeEye}.% [TODO vilka förändringar har gjorts]%While a slideview was implemented in BarcodeEye already, the information displayed was static [todo, var den statisk]. The slideview consited of only two slides [todo code example of how it was static]. Mixing images with text was not possible either. Information also had to be encoded directly into the QR code and could not be downloaded by an encoded link.
% https://github.com/BarcodeEye/BarcodeEye

%\subsection{View Slider}


%\subsection{AsyncTask}

%Used for image, as well as product

%\subsection{Text Split}


\subsection{Card Layout}
Google provides developers with a set of predefined layouts for different types of cards, which were used in the Google Glass application and used as basis for the design of the different layouts for the slides in the smartphone application. The following predefined layouts were used in the implementation: ``Title'', ``Columns'' and ``Text''. The Title layout was used for the first card of the slide view, which shows the product name as well as an image of the product as it is supposed to look when finished. TODO Image card? vilken layout? Använde den också title- layouten?

	\begin{figure}[ht!]
		\centering
    		\subfloat[The title card layout.]{{\includegraphics[width=70mm]{images/demo/titleCard}}}
   		 \qquad
		\subfloat[The column card layout.]{{\includegraphics[width=70mm]{images/demo/columnImage}}}
   		 \qquad
    		\subfloat[The text card layout.]{{\includegraphics[width=70mm]{images/demo/instructionText}}}
    		\qquad
        		\subfloat[The image card layout.]{{\includegraphics[width=70mm]{images/demo/instructionImage}}}
   		 \qquad
		\caption{The different layouts used within the Googla Glass application.}
		\label{fig:cardLayout}
	\end{figure}

The Columns card layout, seen in Figure~\ref{fig:cardLayout}~(b) was used for when an instruction or component was to be presented with both text and an image. Since the Columns layout split the card, with an image to the left and text to the right, the Columns layout was the most reasonable choice when presenting both text and an image. An alternative would have been to display the text on top of the image, the image could potentially have been hidden behind a larger amount of text. 

Such a layout design was instead used for the title card as the amount of text being displayed is only the name of the product, and the image is only to give an idea of what the finished product will look like. The layout design where the text overlapped the image was called Title and can be seen in Figure~\ref{fig:cardLayout}~(a).

If the information being presented, either a component or an instruction, instead were to be presented only as text the Text layout, seen in Figure~\ref{fig:cardLayout}~(c) was used. The Text layout displayed dynamically sized text. In other words, if there was a lot of text being displayed the text would be resized to fit the screen.

TODO IMAGE layout

Using the predefined layouts in the implementation was easily achieved as the process consisted mostly of plug-and-play. The \texttt{CardBuilder} class constructor took the layout as an argument, as seen in Listing~\ref{cardBuilderPlugPlay}. When and instance of the \texttt{CardBuilder} class was created what remained was to simply input the necessary information, such as the instruction text. Setting an image was done slightly differently than written information as images were loaded in using a separate thread. As soon as the \texttt{CardBuilder} method \texttt{getView} was called the card was built with the information that had been inputed.

\begin{lstlisting}[language=Java, caption={Initialisation of the CardBuilder class}, label=cardBuilderPlugPlay]
CardBuilder cardBuilder = new CardBuilder(context, CardBuilder.Layout.COLUMNS)
	.setText(getText())
	.setFootNote(mFootNote)
	.setTimestamp(mTimeStamp);

cardBuilder = (new LoadImage(isTitleCard(), getByteArray()).doInBackground(cardBuilder));

return cardBuilder.getView();
\end{lstlisting}

%which standard layout were used, one non-standard

\subsection{Voice Commands}
\input{chap4/voiceCommand.tex}

\subsection{Test Cases}
\input{chap4/TestCases.tex}

\subsection{Summary}
\label{subsec:summary}
\input{chap4/Summary.tex}

%o   Implementation - Present your project implemetion in general
%o   Information - Give details here (possibly several sub-sections)
%o   Summary - for this chapter

% Mobile phone application
% Uses Zxing - library for QR code scanning [Link to gihub repository missing!!!]
% can display both text and images 
% 
% Google Glass Application
% Uses BarcodeEye - library for QR Code Scanning (port of Zxing for Google Glass) [Link to github repository missing!!!]
% Can display text, images still todo
% Much easier to add slides on Google Glass compared to Mobile Phone Application. Probably because Cards is standard interface for Google Glass (might also be because simple API, check CardPresenter!!!)
% Very difficult to add images since cards can't be changed after .getView() has been called
% Need to call .notifyViewChanged() but does not work anyway (yet) seems to only start the activity over which calls the execute method again if no check has been put in place